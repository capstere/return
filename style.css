/* --- Reset --- */
/* Nollställ marginaler och padding för alla element WOOP */
* { margin: 0; padding: 0; }

/* --- Basinställningar + perspektiv --- */
body, html {
  width: 100%;            /* Full bredd */
  height: 100%;           /* Full höjd */
  font-family: "Droid Sans", arial, sans-serif; /* Typsnitt */
  font-weight: 700;       /* Fet stil */
  color: #ff6;            /* Standard textfärg */
  overflow: hidden;       /* Ingen scrollbalk */
  position: relative;     /* För absoluta positioneringar */
  background: none;       /* Ingen statisk bakgrund - allt i pseudo-element */
  perspective: 800px;     /* Djup för 3D-animationer */
}

/* --- Animerad stjärnhimmel --- */
body::before {
  content: "";           /* Pseudo-element utan text */
  position: absolute;
  top: 0; left: 0;
  width: 100%;
  height: 200vh;          /* Dubbla viewport-höjden för scroll */
  background: url('assets/bg-stars.jpeg') no-repeat center top;
  background-size: cover; /* Täcker hela elementet */
  transform: translateY(0);/* Startposition */
  z-index: -1;            /* Bakom allt annat */
}
body.falling::before {
  /* Sätt på denna klass för att animera stjärnor */
  animation: starsFall 10s linear forwards;
  /* Ändra 10s för att snabba upp eller sakta ner animationstiden */
}
@keyframes starsFall {
  to { transform: translateY(-40vh); }
  /* -50vh: flytta halva höjden. Ändra värdet för mindre/mindre rörelse */
}

/* --- Dölj-element innan de aktiveras --- */
.hidden { display: none; }

/* --- Countdown --- */
#countdown {
  position: absolute;
  top: 10px;               /* Avstånd från toppen */
  left: 50%;               /* Centrerat horisontellt */
  transform: translateX(-50%);
  font-size: 2rem;         /* Ändra för större/mindre text */
  color: #ffe81f;          /* Ändra färg */
  z-index: 1000;
}

/* --- Startknapp --- */
#start-button {
  position: absolute;
  top: 50%; left: 50%;     /* Mitt på skärmen */
  transform: translate(-50%, -50%);
  font-size: 1.8em;        /* Textstorlek */
  padding: 20px 40px;      /* Inre marginaler */
  background-color: #ffe81f;/* Bakgrundsfärg */
  color: black;            /* Textfärg */
  border: none;
  border-radius: 10px;     /* Rundade hörn */
  cursor: pointer;
  z-index: 1100;

  /* Lägg till transition och initial glow */
  transition: transform 0.3s ease, box-shadow 0.3s ease, text-shadow 0.3s ease;
  box-shadow: 0 0 8px #ffe81f, 0 0 16px #ff6;
  text-shadow: 0 0 4px #fff, 0 0 8px #ff6;

  /* Pulsande glow-animation */
  animation: button-glow 2.5s infinite ease-in-out;
}
/* Hover: skala upp lite och maxa glöden */
#start-button:hover {
  transform: translate(-50%, -50%) scale(1.1);
  box-shadow: 0 0 20px #ffe81f, 0 0 40px #ff6;
}
/* Keyframes för pulsande glow */
@keyframes button-glow {
  0%, 100% {
    box-shadow: 0 0 8px #ffe81f, 0 0 16px #ff6;
    text-shadow: 0 0 4px #fff, 0 0 8px #ff6;
  }
  50% {
    box-shadow: 0 0 12px #ffe81f, 0 0 24px #ff6;
    text-shadow: 0 0 6px #fff, 0 0 12px #ff6;
  }
}

/* --- Intro-text ("long time ago...") --- */
#start-text {
  position: relative;
  width: 16em;             /* Bredd i em */
  margin: 20% auto;        /* Vertikal placering och centrerad */
  font-size: 200%;         /* Ändra för textstorlek */
  font-weight: 400;
  color: #4ee;             /* Textfärg */
  opacity: 0;              /* Startar osynlig */
  z-index: 1;
  animation: intro 3s ease-out forwards;
  /* 3s: längd på intro-animation */
}
@keyframes intro {
  0%, 90% { opacity: 1; }
  100%    { opacity: 0; }
  /* 90%: hur länge texten är synlig innan fade-out */
}

/* --- SPAR WARS-logga med kraftigare borders --- */
h1 {
  position: absolute;
  top: 50%; left: 50%;     /* Mitt i viewport */
  transform: translate(-50%, -50%) translateZ(0) scale(1);
  transform-origin: center center;
  font-size: 50em;         /* Ändra storlek på loggan */
  line-height: 0.8em;
  letter-spacing: -0.05em;
  color: #000;             /* Textfärg */
  text-shadow:
    -2px -2px 0 #ff6,
     2px -2px 0 #ff6,
    -2px  2px 0 #ff6,
     2px  2px 0 #ff6;
  -webkit-text-stroke: 15px #ff6;  /* Ännu fetare gul kant */
  opacity: 0;
  z-index: 1;
  animation: logo 6s ease-out 0s forwards;
  /* 0.5s: fördröjning innan animation startar */
}
@keyframes logo {
  0% {
    transform: translate(-50%, -50%) translateZ(0) scale(1);
    opacity: 1;
  }
  50% { opacity: 1; }
  100% {
    transform: translate(-50%, -50%) translateZ(-800px) scale(0.2);
    opacity: 0;
  }
}

/* --- Crawl-text (rullande) --- */
#titles {
  position: absolute;
  width: 18em; height: 50em; /* Justera vyboxens storlek */
  bottom: 0; left: 50%;
  margin-left: -9em;        /* Halv bredd för centering */
  font-size: 350%;          /* Textstorlek i crawlen */
  text-align: justify;
  overflow: hidden;         /* Skär av text utanför */
  transform-origin: 50% 100%;
  transform: perspective(300px) rotateX(25deg);
  /* 300px: djup för 3D-perspektiv, 25deg: lutning */
}
#titles:after {
  content: "";
  position: absolute;
  top: 0; left: 0; right: 0; bottom: 60%;
  background: linear-gradient(to bottom,
    rgba(0,0,0,1) 0%, transparent 100%);
  /* Mörk toning upptill */
  pointer-events: none;
}
#titlecontent {
  position: absolute;
  top: 100%;               /* Start precis utanför */
  animation: scroll 25s linear forwards;
  /* 25s: ändra för snabbare/långsammare scroll */
}
@keyframes scroll {
  0%   { top: 100%; }
  100% { top: -170%; }
  /* -170%: flytta texten utanför toppen */
}
#titles p { margin: 0.8em 0; }
#titles p.center { text-align: center; }

/* --- Planetbild med uppochnedflyttning --- */
#planet-effect {
  position: fixed;
  bottom: 0; left: 50%;
  transform: translateX(-50%) translateY(100%);
  width: 100%;             /* Justera bredd */
  opacity: 0;
  z-index: 900;
  animation: none;
}
#planet-effect.active-planet {
  animation: planetRise 10s ease-out forwards;
  /* 10s: längd på planetanimationen */
}
@keyframes planetRise {
  from {
    transform: translateX(-50%) translateY(100%);
    opacity: 0;
  }
  to {
    transform: translateX(-50%) translateY(0vh);
    opacity: 1;
    /* 0vh: sluthöjd, ändra till negativt för högre uppflytt */
  }
}

/* --- Finala element + knappar --- */

/* Container för slutlig UI (titel + knappar) */
#final-elements {
  position: absolute;      /* Placera relativt till närmaste positionerade förälder (här body/html) */
  top: 50%;                /* Vertikalt 50% nerifrån */
  left: 50%;               /* Horisontellt 50% från vänster */
  transform: translate(-50%, -50%); /* Flytta tillbaka hälften av egen bredd/höjd för perfekt centring */
  text-align: center;      /* Centrera text och inline-element inuti containern */
  z-index: 1050;           /* Högre än övriga element så att denna ligger längst fram */
  opacity: 0;              /* Startar osynlig */
  transition: opacity 5s ease-in; /* Animera opaciteten under 5 sekunder med “ease-in” kurva */
  /*   ↑ 5s: hur lång tid fade-in tar
       ↑ ease-in: börjar långsamt och slutar snabbt */
}
/* När klassen .hidden tas bort → gör elementen synliga */
#final-elements:not(.hidden) {
  opacity: 1;              /* Fullt synlig */
}

/* Huvudrubrik i final-sektionen */
#main-title {
  font-size: 4em;          /* Stor text: 4 gånger standard font-size */
  color: #ffe81f;          /* Gul färgkod (hex) */
  text-shadow: 2px 2px 8px rgba(255,232,31,0.8);
                           /* Skugga: horisontellt 2px, vertikalt 2px, suddig 8px, färg med 80% opacitet */
  margin-bottom: 1em;      /* Utrymme under rubriken, 1em motsvarar font-size */
}

/* Wrapper för knapparna */
#buttons {
  display: flex;           /* Flexbox—rad-baserad layout */
  justify-content: center; /* Centrera flex-items horisontellt */
  align-items: center;     /* Centrera flex-items vertikalt */
  gap: 32px;               /* 32px avstånd mellan varje knapp */
  flex-wrap: wrap;         /* Radbryt om de inte får plats på en rad */
}

/* Själva knapparna */
.hamburger-btn {
  position: relative;      /* Gör att absoluta barn-positioner relaterar hit */
  padding: 32px 64px;      /* Inre marginal: 24px upp/ner, 48px vänster/höger */
  font-size: 2em;        /* Textstorlek: 1.5 gånger standard */
  min-width: 100px;         /* se till att texten alltid får plats */
  background: linear-gradient(145deg, #ffe81f, #ffd700);
                           /* Bakgrundsgradient: 145° vinkel, från ljusgul till mörkgul */
  color: black;            /* Textfärg */
  border: 2px solid black; /* 2px svart kant runt knappen */
  border-radius: 8px;      /* Rundade hörn med radie 8px */
  text-transform: uppercase; /* Omvandla all text till versaler */
  cursor: pointer;         /* Ändra muspekare till hand när man hovrar */
  overflow: hidden;        /* Dölj allt som hamnar utanför knappens box */
  transition:     transform 0.2s ease, box-shadow 0.3s ease, text-shadow 0.3s ease;
                           /* TA BORT BOX och TEXT ease EVENTUELLT. Animera transform (t.ex. scale) under 0.2s med ease-kurva */
  /* Lätt glow som grundläge */
  box-shadow:
    0 0 6px rgba(255,232,31,0.6),
    0 0 12px rgba(255,206,0,0.4);
  
}

/* --- Finala element + knappar --- */

/* Container för slutlig UI (titel + knappar) */
#final-elements {
  position: absolute;      /* Placera relativt till närmaste positionerade förälder (här body/html) */
  top: 50%;                /* Vertikalt 50% nerifrån */
  left: 50%;               /* Horisontellt 50% från vänster */
  transform: translate(-50%, -50%); /* Flytta tillbaka hälften av egen bredd/höjd för perfekt centring */
  text-align: center;      /* Centrera text och inline-element inuti containern */
  z-index: 1050;           /* Högre än övriga element så att denna ligger längst fram */
  opacity: 0;              /* Startar osynlig */
  transition: opacity 5s ease-in; /* Animera opaciteten under 5 sekunder med “ease-in” kurva */
  /*   ↑ 5s: hur lång tid fade-in tar
       ↑ ease-in: börjar långsamt och slutar snabbt */
}
/* När klassen .hidden tas bort → gör elementen synliga */
#final-elements:not(.hidden) {
  opacity: 1;              /* Fullt synlig */
}

/* Huvudrubrik i final-sektionen */
#main-title {
  font-size: 4em;          /* Stor text: 4 gånger standard font-size */
  color: #ffe81f;          /* Gul färgkod (hex) */
  text-shadow: 2px 2px 8px rgba(255,232,31,0.8);
                           /* Skugga: horisontellt 2px, vertikalt 2px, suddig 8px, färg med 80% opacitet */
  margin-bottom: 1em;      /* Utrymme under rubriken, 1em motsvarar font-size */
}

/* Wrapper för knapparna */
#buttons {
  display: flex;           /* Flexbox—rad-baserad layout */
  justify-content: center; /* Centrera flex-items horisontellt */
  align-items: center;     /* Centrera flex-items vertikalt */
  gap: 32px;               /* 32px avstånd mellan varje knapp */
  flex-wrap: wrap;         /* Radbryt om de inte får plats på en rad */
}

/* Själva knapparna */
.hamburger-btn {
  position: relative;      /* Gör att absoluta barn-positioner relaterar hit */
  padding: 24px 48px;      /* Inre marginal: 24px upp/ner, 48px vänster/höger */
  font-size: 1.5em;        /* Textstorlek: 1.5 gånger standard */
  background: linear-gradient(145deg, #ffe81f, #ffd700);
                           /* Bakgrundsgradient: 145° vinkel, från ljusgul till mörkgul */
  color: black;            /* Textfärg */
  border: 2px solid black; /* 2px svart kant runt knappen */
  border-radius: 8px;      /* Rundade hörn med radie 8px */
  text-transform: uppercase; /* Omvandla all text till versaler */
  cursor: pointer;         /* Ändra muspekare till hand när man hovrar */
  overflow: hidden;        /* Dölj allt som hamnar utanför knappens box */
  transition: transform 0.2s ease;
                           /* Animera transform (t.ex. scale) under 0.2s med ease-kurva */
}

/* Text-elementen inuti knappen, absolut placerade */
.hamburger-btn span {
  position: absolute;      /* Placeras i förhållande till .hamburger-btn */
  top: 50%;                /* Vertikalt mitt i knappen */
  left: 50%;               /* Horisontellt mitt i knappen */
  transform: translate(-50%, -50%);
                           /* Flytta tillbaka hälften av egen bredd/höjd för centring */
  white-space: nowrap;     /* Förhindra radbrytning */
  transition:
    transform 0.5s ease,  /* Animera position/förflyttning under 0.5s */
    opacity 0.5s ease;    /* Animera opacitet under 0.5s */
}

/* Speciell styling för tredje textspans (som är dold initialt) */
.hamburger-btn span:nth-child(3) {
  transform: translate(-50%, -50%) scaleY(0);
                           /* Skala Y till 0 → osynlig i vertikalled */
  opacity: 0;              /* Fullt genomskinlig initialt */
  font-size: 1em;          /* Mindre textstorlek för detta lager */
  font-weight: 700;        /* Fet stil */
  color: #ffe81f;          /* Gul färg för inre text */
  text-shadow: 2px 2px 8px rgba(255,232,31,0.8);
                           /* Samma skugga som #main-title för konsekvent look */
}

/* När man hovrar över knappen: flytta upp övre text (span 1) */
.hamburger-btn:hover span:nth-child(1) {
  transform: translate(-50%, calc(-50% - 0.8em));
                           /* Flytta 0.8em högre upp än centrum */
}

/* Hover: flytta ner mellan-texten (span 2) */
.hamburger-btn:hover span:nth-child(2) {
  transform: translate(-50%, calc(-50% + 0.8em));
                           /* Flytta 0.8em lägre än centrum */
}

/* Hover: visa tredje texten genom att skala upp och öka opacitet */
.hamburger-btn:hover span:nth-child(3) {
  transform: translate(-50%, -50%) scaleY(1);
                           /* Återställ vertikal skala till normal (1) */
  opacity: 1;              /* Gör texten synlig */
  color: black;            /* Ändra inre textens färg till svart vid hover */
  /* Inre text syns nu med samma positioneringslogik som övriga spans */
}

.hidden { display: none; }

/* --- Interaktiv ljussabel --- */
/* 1) Startar dolt */
#interactive-saber {
  display: none;
  position: fixed;
  bottom: 10%;
  left: 50%;
  transform: translateX(-50%);
  z-index: 2000;
  cursor: pointer;
}

/* 2) När hidden-klassen tas bort → flex-container */
#interactive-saber:not(.hidden) {
  display: flex;
}

/* Gör handtaget till referenspunkt för bladet */
.saber-hilt {
  position: relative;
  width: 20px;
  height: 40px;
  background: #444;
  border: 2px solid #222;
  border-radius: 4px;
  margin: 0 auto;
}

/* Bladet: absolut inuti handtaget, centrerat horisontellt */
.saber-blade {
  position: absolute;
  bottom: 100%;
  left: 50%;
  transform: translateX(-50%);
  width: 8px;
  height: 0;
  background: #0ff;
  box-shadow: 0 0 8px #0ff, 0 0 16px #0ff;
  transition: height 0.5s ease, box-shadow 0.5s ease;
}

#interactive-saber.on .saber-blade {
  height: 200px;
}

#interactive-saber.red .saber-blade {
  background: #f00;
  box-shadow: 0 0 8px #f00, 0 0 16px #f00;
}

#interactive-saber.green .saber-blade {
  background: #0f0;
  box-shadow: 0 0 8px #0f0, 0 0 16px #0f0;
}
